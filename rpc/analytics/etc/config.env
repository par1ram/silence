# Analytics Service Configuration

# HTTP Server
HTTP_PORT=8082
GRPC_PORT=9082
HTTP_READ_TIMEOUT=30s
HTTP_WRITE_TIMEOUT=30s
HTTP_IDLE_TIMEOUT=60s

# Version
VERSION=1.0.0

# InfluxDB Configuration
INFLUXDB_URL=http://localhost:8086
INFLUXDB_TOKEN=your-influxdb-token
INFLUXDB_ORG=silence
INFLUXDB_BUCKET=analytics
INFLUXDB_TIMEOUT=30s
INFLUXDB_BATCH_SIZE=1000
INFLUXDB_FLUSH_INTERVAL=10s

# ClickHouse Configuration
CLICKHOUSE_HOST=localhost
CLICKHOUSE_PORT=9000
CLICKHOUSE_HTTP_PORT=8123
CLICKHOUSE_DATABASE=silence_analytics
CLICKHOUSE_USER=admin
CLICKHOUSE_PASSWORD=password
CLICKHOUSE_TIMEOUT=30s
CLICKHOUSE_MAX_CONNECTIONS=10
CLICKHOUSE_MAX_IDLE_CONNECTIONS=5
CLICKHOUSE_CONNECTION_LIFETIME=300s

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=2
REDIS_PASSWORD=

# Data Collection Configuration
METRICS_COLLECTION_INTERVAL=15s
EVENTS_COLLECTION_INTERVAL=5s
PERFORMANCE_COLLECTION_INTERVAL=30s
BATCH_SIZE=100
BUFFER_SIZE=10000
RETENTION_DAYS=365

# OpenTelemetry Configuration
OTEL_ENABLED=true
OTEL_SERVICE_NAME=silence-analytics
OTEL_SERVICE_VERSION=1.0.0
OTEL_ENVIRONMENT=development
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_EXPORTER_OTLP_INSECURE=true
OTEL_RESOURCE_ATTRIBUTES=service.name=silence-analytics,service.version=1.0.0
OTEL_TRACES_EXPORTER=jaeger
OTEL_JAEGER_ENDPOINT=http://localhost:14268/api/traces
OTEL_PROMETHEUS_ENDPOINT=http://localhost:9090

# Metrics Configuration
METRICS_ENABLED=true
METRICS_PORT=9102
METRICS_PATH=/metrics
CUSTOM_METRICS_ENABLED=true

# VPN Analytics Configuration
VPN_SESSIONS_TRACKING=true
USER_BEHAVIOR_TRACKING=true
PERFORMANCE_TRACKING=true
SECURITY_EVENTS_TRACKING=true
BANDWIDTH_TRACKING=true
CONNECTION_QUALITY_TRACKING=true

# Data Processing Configuration
REAL_TIME_PROCESSING=true
BATCH_PROCESSING=true
STREAM_PROCESSING_WORKERS=10
AGGREGATION_INTERVALS=1m,5m,15m,1h,24h
DATA_COMPRESSION=true
DATA_ENCRYPTION=true

# Alerting Configuration
ALERTS_ENABLED=true
ALERT_MANAGER_URL=http://localhost:9093
ALERT_RULES_DIR=./alerts
WEBHOOK_URL=
SLACK_WEBHOOK_URL=
EMAIL_ALERTS_ENABLED=false

# Dashboard Configuration
GRAFANA_URL=http://localhost:3000
GRAFANA_API_KEY=
DASHBOARD_REFRESH_INTERVAL=30s

# Security
INTERNAL_API_TOKEN=super-secret-internal-token
RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_WINDOW=1m
API_KEY_REQUIRED=false

# Logging
LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=stdout
LOG_FILE_PATH=./logs/analytics.log
LOG_ROTATION_ENABLED=true
LOG_MAX_SIZE=100MB
LOG_MAX_BACKUPS=10

# Performance Tuning
WORKER_POOL_SIZE=20
QUEUE_SIZE=100000
MEMORY_LIMIT=2GB
CPU_LIMIT=2
GC_PERCENT=100

# Database Query Optimization
QUERY_TIMEOUT=30s
MAX_QUERY_ROWS=100000
QUERY_CACHE_ENABLED=true
QUERY_CACHE_SIZE=1GB
QUERY_CACHE_TTL=5m

# Data Export Configuration
EXPORT_ENABLED=true
EXPORT_FORMATS=csv,json,parquet
EXPORT_COMPRESSION=gzip
EXPORT_MAX_ROWS=1000000
EXPORT_TIMEOUT=300s

# Backup Configuration
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION=true
BACKUP_ENCRYPTION=true

# Feature Flags
FEATURE_MACHINE_LEARNING=false
FEATURE_ANOMALY_DETECTION=false
FEATURE_PREDICTIVE_ANALYTICS=false
FEATURE_REAL_TIME_DASHBOARD=true
FEATURE_CUSTOM_REPORTS=true

# External Integrations
ELASTICSEARCH_ENABLED=false
ELASTICSEARCH_URL=http://localhost:9200
KAFKA_ENABLED=false
KAFKA_BROKERS=localhost:9092
RABBITMQ_ENABLED=false
RABBITMQ_URL=amqp://localhost:5672
