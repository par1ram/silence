# Notifications Service Configuration

# HTTP Server
HTTP_PORT=8087
GRPC_PORT=9087
HTTP_READ_TIMEOUT=30s
HTTP_WRITE_TIMEOUT=30s
HTTP_IDLE_TIMEOUT=60s

# Version
VERSION=1.0.0

# RabbitMQ Configuration
RABBITMQ_URL=amqp://admin:admin@localhost:5672/
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USER=admin
RABBITMQ_PASSWORD=admin
RABBITMQ_VHOST=/
RABBITMQ_EXCHANGE=notifications
RABBITMQ_QUEUE=notifications_queue
RABBITMQ_ROUTING_KEY=notifications.*
RABBITMQ_CONSUMER_TAG=notifications_consumer
RABBITMQ_PREFETCH_COUNT=10
RABBITMQ_DURABLE=true
RABBITMQ_AUTO_DELETE=false
RABBITMQ_EXCLUSIVE=false
RABBITMQ_NO_WAIT=false
RABBITMQ_RECONNECT_DELAY=5s
RABBITMQ_MAX_RECONNECT_ATTEMPTS=10

# Redis Configuration (for caching and rate limiting)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=3
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=10
REDIS_IDLE_TIMEOUT=300s

# Email Configuration
EMAIL_ENABLED=true
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM=noreply@silence-vpn.com
SMTP_FROM_NAME=Silence VPN
SMTP_TLS_ENABLED=false
SMTP_AUTH_ENABLED=false
EMAIL_TEMPLATES_DIR=./templates/email

# Push Notifications Configuration
PUSH_ENABLED=false
FCM_SERVER_KEY=
FCM_SENDER_ID=
APNS_CERTIFICATE_PATH=
APNS_PRIVATE_KEY_PATH=
APNS_TEAM_ID=
APNS_KEY_ID=
APNS_BUNDLE_ID=com.silence.vpn
APNS_SANDBOX=true

# Slack Integration
SLACK_ENABLED=false
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#notifications
SLACK_USERNAME=Silence VPN Bot
SLACK_ICON_EMOJI=:shield:

# Discord Integration
DISCORD_ENABLED=false
DISCORD_WEBHOOK_URL=
DISCORD_USERNAME=Silence VPN
DISCORD_AVATAR_URL=

# Telegram Integration
TELEGRAM_ENABLED=false
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# Webhook Configuration
WEBHOOK_ENABLED=false
WEBHOOK_URL=
WEBHOOK_TIMEOUT=30s
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_RETRY_DELAY=5s

# Analytics Integration
ANALYTICS_URL=http://localhost:8082
ANALYTICS_ENABLED=true
ANALYTICS_TIMEOUT=10s

# Notification Types Configuration
NOTIFICATION_TYPES=user_registration,user_login,vpn_connection,vpn_disconnection,payment_success,payment_failed,server_down,server_up,security_alert,maintenance_notice
DEFAULT_NOTIFICATION_TYPE=info

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=1m
RATE_LIMIT_PER_USER=10

# Template Configuration
TEMPLATE_ENGINE=html/template
TEMPLATE_DIR=./templates
TEMPLATE_CACHE_ENABLED=true
TEMPLATE_CACHE_SIZE=100
TEMPLATE_RELOAD_ON_CHANGE=true

# Queue Configuration
QUEUE_WORKERS=5
QUEUE_BUFFER_SIZE=1000
QUEUE_BATCH_SIZE=10
QUEUE_BATCH_TIMEOUT=5s
QUEUE_RETRY_ATTEMPTS=3
QUEUE_RETRY_DELAY=10s
QUEUE_DEAD_LETTER_ENABLED=true
QUEUE_DEAD_LETTER_QUEUE=notifications_dead_letter

# Delivery Configuration
DELIVERY_TIMEOUT=30s
DELIVERY_RETRY_ATTEMPTS=3
DELIVERY_RETRY_DELAY=5s
DELIVERY_EXPONENTIAL_BACKOFF=true
DELIVERY_MAX_DELAY=300s

# Filtering Configuration
FILTER_ENABLED=true
FILTER_SPAM_ENABLED=true
FILTER_DUPLICATE_ENABLED=true
FILTER_DUPLICATE_WINDOW=1h
FILTER_BLACKLIST_ENABLED=true
FILTER_WHITELIST_ENABLED=false

# Scheduling Configuration
SCHEDULER_ENABLED=true
SCHEDULER_WORKERS=3
SCHEDULER_INTERVAL=1m
DELAYED_NOTIFICATIONS_ENABLED=true
RECURRING_NOTIFICATIONS_ENABLED=true

# Monitoring Configuration
METRICS_ENABLED=true
METRICS_PORT=9107
METRICS_PATH=/metrics
HEALTH_CHECK_INTERVAL=30s

# Security
INTERNAL_API_TOKEN=super-secret-internal-token
API_KEY_REQUIRED=false
ENCRYPTION_KEY=notifications-encryption-key-32bytes
SIGNATURE_KEY=notifications-signature-key

# Logging
LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=stdout
LOG_FILE_PATH=./logs/notifications.log
LOG_ROTATION_ENABLED=true
LOG_MAX_SIZE=100MB
LOG_MAX_BACKUPS=10

# Performance Tuning
WORKER_POOL_SIZE=10
MEMORY_LIMIT=1GB
CPU_LIMIT=1
GC_PERCENT=100
MAX_CONCURRENT_NOTIFICATIONS=1000

# Database Configuration (for notification history)
DB_ENABLED=false
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=password
DB_NAME=silence_notifications
DB_SSLMODE=disable
DB_MAX_CONNECTIONS=10
DB_MAX_IDLE_CONNECTIONS=5
DB_CONNECTION_LIFETIME=300s

# Feature Flags
FEATURE_EMAIL_NOTIFICATIONS=true
FEATURE_PUSH_NOTIFICATIONS=false
FEATURE_SMS_NOTIFICATIONS=false
FEATURE_WEBHOOK_NOTIFICATIONS=false
FEATURE_SLACK_NOTIFICATIONS=false
FEATURE_DISCORD_NOTIFICATIONS=false
FEATURE_TELEGRAM_NOTIFICATIONS=false
FEATURE_NOTIFICATION_HISTORY=false
FEATURE_NOTIFICATION_ANALYTICS=true
FEATURE_NOTIFICATION_SCHEDULING=true
FEATURE_NOTIFICATION_TEMPLATES=true

# Development Settings
DEV_MODE=true
DEV_EMAIL_CATCH_ALL=dev@silence-vpn.com
DEV_DISABLE_EXTERNAL_SERVICES=false
DEV_MOCK_EXTERNAL_SERVICES=false

# Testing Configuration
TEST_MODE=false
TEST_EMAIL_RECIPIENT=test@silence-vpn.com
TEST_WEBHOOK_URL=http://localhost:8088/test-webhook
TEST_NOTIFICATION_COUNT=100
