# Silence Project Environment Variables
# This file contains all environment variables used by Docker Compose and services

# =============================================================================
# INFRASTRUCTURE SERVICES
# =============================================================================

# PostgreSQL Configuration
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password
POSTGRES_DB=silence_auth
POSTGRES_PORT=5432

# Redis Configuration
REDIS_PORT=6379

# RabbitMQ Configuration
RABBITMQ_DEFAULT_USER=admin
RABBITMQ_DEFAULT_PASS=admin
RABBITMQ_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672

# InfluxDB Configuration
INFLUXDB_PORT=8086
DOCKER_INFLUXDB_INIT_MODE=setup
DOCKER_INFLUXDB_INIT_USERNAME=admin
DOCKER_INFLUXDB_INIT_PASSWORD=adminpassword
DOCKER_INFLUXDB_INIT_ORG=silence
DOCKER_INFLUXDB_INIT_BUCKET=analytics
DOCKER_INFLUXDB_INIT_ADMIN_TOKEN=your-influxdb-token

# =============================================================================
# APPLICATION SERVICES
# =============================================================================

# Auth Service
AUTH_HTTP_PORT=8081
AUTH_JWT_SECRET=your-jwt-secret-key-change-this-in-production
AUTH_MIGRATIONS_DIR=/app/migrations

# Gateway Service
GATEWAY_HTTP_PORT=8080
GATEWAY_AUTH_SERVICE_URL=http://auth:8080
GATEWAY_ANALYTICS_SERVICE_URL=http://analytics:8080
GATEWAY_SERVER_MANAGER_SERVICE_URL=http://server-manager:8085
GATEWAY_DPI_BYPASS_SERVICE_URL=http://dpi-bypass:8080
GATEWAY_VPN_CORE_SERVICE_URL=http://vpn-core:8080

# Analytics Service
ANALYTICS_HTTP_PORT=8082
ANALYTICS_INFLUXDB_URL=http://influxdb:8086
ANALYTICS_INFLUXDB_TOKEN=your-influxdb-token
ANALYTICS_INFLUXDB_ORG=silence
ANALYTICS_INFLUXDB_BUCKET=analytics

# Server Manager Service
SERVER_MANAGER_HTTP_PORT=8085
SERVER_MANAGER_DB_NAME=silence_server_manager
SERVER_MANAGER_DOCKER_HOST=unix:///var/run/docker.sock
SERVER_MANAGER_DOCKER_API_VERSION=1.41
SERVER_MANAGER_DOCKER_TIMEOUT=30s
SERVER_MANAGER_MIGRATIONS_DIR=/app/migrations

# DPI Bypass Service
DPI_BYPASS_HTTP_PORT=8083

# VPN Core Service
VPN_CORE_HTTP_PORT=8084
VPN_CORE_DB_NAME=silence_vpn

# Notifications Service
NOTIFICATIONS_HTTP_PORT=8087
NOTIFICATIONS_RABBITMQ_URL=amqp://admin:admin@rabbitmq:5672/
NOTIFICATIONS_RABBITMQ_EXCHANGE=notifications
NOTIFICATIONS_RABBITMQ_QUEUE=notifications_queue
NOTIFICATIONS_RABBITMQ_ROUTING_KEY=notifications.*
NOTIFICATIONS_RABBITMQ_CONSUMER_TAG=notifications_consumer
NOTIFICATIONS_RABBITMQ_PREFETCH_COUNT=10
NOTIFICATIONS_ANALYTICS_URL=http://analytics:8080

# =============================================================================
# SHARED CONFIGURATION
# =============================================================================

# Database Connection Settings
DB_HOST=postgres
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=password
DB_SSLMODE=disable

# Redis Connection Settings
REDIS_HOST=redis
REDIS_PORT=6379

# Network
NETWORK_NAME=silence_network

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Logging
LOG_LEVEL=info
LOG_FORMAT=json

# Development Mode
DEV_MODE=true

# =============================================================================
# SECURITY SETTINGS (CHANGE IN PRODUCTION)
# =============================================================================

# JWT Settings
JWT_SECRET=your-jwt-secret-key-change-this-in-production
JWT_EXPIRATION=24h
JWT_REFRESH_EXPIRATION=168h

# Encryption
BCRYPT_COST=12

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=1m

# =============================================================================
# VOLUME NAMES
# =============================================================================

POSTGRES_VOLUME=postgres_data
REDIS_VOLUME=redis_data
RABBITMQ_VOLUME=rabbitmq_data
INFLUXDB_VOLUME=influxdb_data
